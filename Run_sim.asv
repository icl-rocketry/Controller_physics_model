function Run_sim(y_I, t_I, config)
y = y_I; t = t_I;
steps = (config.T - t_I) / config.dt;
y_array = zeros(steps, 14);
t_array = t_I:config.dt:config.T;
while (t < config.T && y(3) >= 0)
    control_signal = controller(y);
    y_ = RK4_step(t, y, config.dt, control_signal);

    y_array(st)
    y = y_;
    t = t + dt;
end
end

